<!--
--- UCSF Chimera Copyright ---
Copyright (c) 2004-2009 Regents of the University of California.
All rights reserved.  This software provided pursuant to a
license agreement containing restrictions on its disclosure,
duplication and use.  This notice must be embedded in or
attached to all copies, including partial copies, of the
software or any revisions or derivations thereof.
--- UCSF Chimera Copyright ---
-->

<html>
<head>
<TITLE>Demos</TITLE>
</head>
<body>
<h3><a name="demodef">What is a Demo?</a></h3>
<p>
A <b><i>demo</i></b> is a presentation within Chimera.
A demo can include several panels, where 
<a name="paneldef">
a <b><i>panel</i></b> generally consists of</a>:
<ul> 
<li>a set of operations performed in Chimera
(currently only those that can be expressed as
<a href="../../UsersGuide/framecommand.html" target="_top">commands</a>)
<li>a block of explanatory text that appears when the set of operations begins
</ul>
A <a name="demosrc"><b><i>demo source file</i></b></a>
contains the instructions to Chimera for <a href="#running">running</a>
a demo.  A demo source file and any associated data 
files together contain all of the demo information.
Simply opening the demo source file in Chimera will start the demo.
Any data files opened by the demo should be in the same directory
as the source file, unless the source file specifies otherwise.
The demo source <a href="../../UsersGuide/filetypes.html">file type</a>
can be designated by the suffix <b>.src</b> (part of the filename) or the
prefix <b>demo:</b> (not part of the filename). 
</p><p>
The <a href="#editor"><b>Demo Editor</b></a> is a graphical interface
for creating demo source files.  After
<a href="../../UsersGuide/framecommand.html" target="_top">Chimera commands</a>
and other demo information such as title and explanatory text
have been entered into the editor, 
the resulting demo can be <a href="#edmenu">saved</a>
as a source file in XML format.
An older (2004), non-XML source file format is also supported 
for the purposes of <a href="#running">running</a> a demo.
</p>

<h3><a name="running">Running a Demo</a></h3>
<p>
A <a href="#demodef">Chimera demo</a> can be started by opening a 
<a href="#demosrc">demo source file</a>
or a <a href="../webdata/webdata.html">Chimera web data</a>
file that has a demo embedded.  Demos included with Chimera 
can be started from the <b>Tools... Demos</b> menu.
</p><p>
At each step in a demo, changes may occur within the main Chimera window
and text may be shown in a separate demo dialog.
Buttons on the dialog control the demo:
<ul>
<li><b>Next</b> - proceed to the next panel
<li><b>Back</b> - return to the previous panel
<li><b>Close</b> - close the demo dialog and all models that were
not already open when the demo was started
(closing all models before starting a demo is recommended, however)
<li><b>Help</b> - open this manual page in a browser window
</ul>
The models in the demo can be 
<a href="../../UsersGuide/mouse.html">moved</a>
as desired; changes in position and scale are automatically 
corrected for by the demo mechanism.
</p><p>
Within a demo,
text shown as a link may be a standard link to a web page (URL)
or may connect to a set of commands or code that will execute when 
the text is clicked.
Right-clicking on the link text brings up a context menu to:
<ul>
<li> show the URL, command, or code in the
<a href="../../UsersGuide/chimerawindow.html#statusline">status line</a>
and <a href="../../UsersGuide/reply.html"><b>Reply Log</b></a>
<li> open the URL or execute the command or code 
(same effect as clicking the link text)
<li> paste the command in the 
<a href="../../UsersGuide/chimerawindow.html#emulator"><b>Command Line</b></a>
</ul>
In addition, a linked URL will be shown in a balloon when the cursor 
is hovered over the link text.
</p>

<h4><a name="demomenu">
Demo dialog menu:</a></h4>
<p>
<b>File</b>
  <ul>
  <li><b>Save Demo As...</b>
  bring up a <a href="../../UsersGuide/opensave.html">dialog</a>
  for saving the <a href="#demosrc">source file</a> of the current demo.  
  Unless a separate <a href="#location">location</a>
  was specified by the demo creator, any associated data files will be saved
  in the same directory as the source file.
  <li><b>Close Demo</b> - close the demo dialog and all models that 
  were not already open when the demo was started
  <li><b>Open in Editor</b> - open the
  <a href="#demosrc">source file</a> of the current demo
  in the <a href="#editor"><b>Demo Editor</b></a>
  </ul>
<b>Controls</b>
  <ul>
   <li><b><a name="autorun">Auto</a></b> 
   - whether to advance automatically through the panels
   (with a <a href="#global">time delay</a> specified by the demo creator)
   <li><b><a name="loop">Loop</a></b>
   - whether the last panel should wrap around to the first
   <li><b>Next</b> - proceed to the next panel
   <li><b>Back</b> - return to the previous panel
  </ul>
</p>

<h3><a name="editor">Creating a Demo</a>
<img src="editoricon.png" alt="Demo Editor icon"></h3>
<p>
The <b>Demo Editor</b> is a graphical interface for creating 
<a href="#demosrc">demo source files</a>.  After
<a href="../../UsersGuide/framecommand.html" target="_top">Chimera commands</a>
and other demo information such as title and explanatory text
have been entered into the editor, the resulting demo can be 
<a href="#edmenu">saved</a> as a source file in XML format.  
A demo can be created from 
scratch or by modifying an existing source file.
</p><p>
There are <a href="../../UsersGuide/extension.html">several ways to start</a>
the <b>Demo Editor</b>, including
by choosing <b>Tools... Demos... Demo Editor</b> from the menu.
This brings up the editor in an empty state.  
To have it show the contents of an existing demo, start 
<a href="#running">running</a> that demo and then choose <b>File... 
Open in Editor</b> from the <a href="#demomenu">demo dialog menu</a>.
</p><p>
The <b>Demo Editor</b> has its own <a href="#edmenu">menu</a>, as well as
the following sections:
<ul>
<li><a href="#panels"><b>Panels</b></a>
<li><a href="#panelcontent"><b>Panel Content</b></a>
<li><a href="#paneloptions"><b>Panel Options</b></a>
<li><a href="#demooptions"><b>Demo Options</b></a>
</ul>
</p><p>
The <a name="panels"><b>Panels</b></a> section
of the <a href="#editor"><b>Demo Editor</b></a>
lists the <a href="#paneldef">panels</a> in the demo.  
<a name="currpanel">
Clicking the name of a panel makes it the <b><i>current panel</i></b></a>:
its name is highlighted and its information shown in the
the <b>Demo Editor</b>. <b>New</b> adds a new panel
below the current panel, if any (otherwise at the bottom of the list).
<b>Delete</b> deletes the current panel.
The up and down arrow buttons move the current panel
up and down in the list.  The order in the list is the order in
which the panels will be shown when the demo is <a href="#running">run</a>.
</p>
<table>
<tr><th>Demo Editor - Panel Content</th></tr>
<tr><td><img src="editor.png"></td></tr>
</table>
<p>
The <a name="panelcontent"><b>Panel Content</b></a> section 
of the <a href="#editor"><b>Demo Editor</b></a>
specifies the content of an individual <a href="#paneldef">panel</a>:
<ul>
<li><b><a name="paneltitle">Panel title</a></b> (optional) - title
for a given <a href="#paneldef">panel</a>;
overrides any overall <a href="#demotitle">demo title</a>
<br><br>
<li><b>Text</b> (optional) - explanatory text
for a given <a href="#paneldef">panel</a>;
the use of several <a href="http://www.w3.org/TR/html4/" target="_blank">HTML</a>
tags is supported within this section: 
  <ul>
  <li>headers (but h1, h2, and h3 give the same result)
  <li><b>bold</b>, <i>italic</i>, and <u>underlined</u> text
  <li>font <font color="brown">color</font> specifications (using a
  <a href="../../UsersGuide/colortool.html#tkcode">Tk color code</b></a> or
  <a href="../../UsersGuide/colortables.html">Chimera color name</a>)
  <li>relative and absolute font size specifications
  <li>paragraphs and line breaks
  <li>ordered and unordered lists
  <li>preformatted text
  <li>links to web pages:
  <br>&lt;a&nbsp;href="http://www.cgl.ucsf.edu/chimera/"&gt;Chimera 
  home page&lt;/a&gt;
  </ul>
In addition, links to Chimera
<a href="../../UsersGuide/framecommand.html" target="_top">commands</a>
or Python statements to be executed in Chimera can be constructed 
analogously to links to web pages:
  <ul>
  <li>Chimera commands:
  <br>&lt;a&nbsp;href="command:open 3fx2"&gt;open the structure&lt;/a&gt;
  <br>&lt;a&nbsp;href="command:color red; repr sphere"&gt;show as red spheres&lt;/a&gt;
  <li>Python: 
  &lt;a&nbsp;href="python:chimera.openModels.open('3fx2', type='pdb')"&gt;open the 
  structure with Python&lt;/a&gt;
  </ul>
Only single quote marks should be used within a command or statement,
to avoid confusion with the double quote marks enclosing the 
command or statement.
<br><br>
Activating the <b>Preview</b> checkbox will show the text with any HTML-type
tags interpreted.  If there are no tags, the text will look exactly the same.
<br><br>
<li><b><a name="panelcommands">Panel commands</a></b> (optional) -
<a href="../../UsersGuide/framecommand.html" target="_top">commands</a> 
for a given <a href="#paneldef">panel</a>
(see <a href="../../UsersGuide/indexcommand.html#cmdtips">rules 
and tips</a>).
The plus (<b>+</b>) and minus (<b>&ndash;</b>) sign
buttons add and delete entry fields for commands.  
If the cursor is in a particular panel command field, 
<b>+</b> will add another field below that field and 
<b>&ndash;</b> will delete that field.  
If the cursor is not in a panel command field, 
<b>+</b> will add a field at the bottom of the list and 
<b>&ndash;</b> will delete the field at the bottom of the list.
The checkbox next to each field controls whether its contents will be
executed when the panel is played.  If the checkbox
is deactivated, the information will still be present
(if the demo is <a href="#edmenu">saved</a>, for example) 
but the contents will not be executed.
<b>Execute</b> runs the panel commands with active checkboxes.
<br><br>
<li><b>Undo commands</b> (optional) -
<a href="../../UsersGuide/framecommand.html" target="_top">commands</a> 
that undo the <a href="#panelcommands">panel commands</a>
(see <a href="../../UsersGuide/indexcommand.html#cmdtips">rules 
and tips</a>).
The plus (<b>+</b>) and minus (<b>&ndash;</b>) sign
buttons add and delete entry fields for commands.
If the cursor is in a particular undo command field, 
<b>+</b> will add another field below that field and 
<b>&ndash;</b> will delete that field.  
If the cursor is not in an undo command field, 
<b>+</b> will add a field at the bottom of the list and 
<b>&ndash;</b> will delete the field at the bottom of the list.
If undo commands are present, the demo dialog <b>Back</b> button will
be enabled for the panel.  The first panel is an exception (the
<b>Back</b> button will not be enabled), but in that case, 
<b>Close</b> can be used to close the demo.
The checkbox next to each field controls whether its contents will be
executed when the panel's <b>Back</b> button is used.  
If the checkbox is deactivated, the information will still be present
(if the demo is <a href="#edmenu">saved</a>, for example) 
but the contents will not be executed.
<b>Execute</b> runs the undo commands with active checkboxes, but
unlike the demo <b>Back</b> button, does not 
<a href="#regeneration">regenerate the position</a>
due to the commands of the <i>previous</i> <a href="#paneldef">panel</a>.
<br><br>
<a name="regeneration">
Chimera demos include a built-in mechanism for resetting positions
to correct for any manipulations by the user.</a>
Clicking <b>Next</b> regenerates the position directly due to the commands 
of the <i>current</i> <a href="#paneldef">panel</a>
(in case the user had subsequently moved anything)
before executing the commands of the following one.
Clicking <b>Back</b> executes any undo commands
and then regenerates the position due to the commands of
the <i>previous</i> <a href="#paneldef">panel</a>.
The demo developer is responsible for determining which commands 
are needed to undo all operations other than positioning/scaling.
If the commands for the panel only change positioning and/or scaling,
an empty entry in the <b>Undo commands</b> section can be used to
enable the <b>Back</b> button.
</ul>
</p><p>
The <a name="paneloptions"><b>Panel Options</b></a> section 
of the <a href="#editor"><b>Demo Editor</b></a>
includes properties of an individual <a href="#paneldef">panel</a>:
<ul>
<li><b><a name="individual">Panel delay</a></b> - the time to pause in
seconds after executing the commands in the panel when 
in <a href="#autorun"><b>Auto</b></a> mode; 
overrides any <a href="#global">default delay</a>
</ul>
</p><p>
The <a name="demooptions"><b>Demo Options</b></a> section
of the <a href="#editor"><b>Demo Editor</b></a>
includes general properties of the <a href="#demodef">demo</a>:
<ul>
<li><b><a name="demotitle">Demo title</a></b> (optional) 
- the title that will be shown on the demo dialog
for any <a href="#paneldef">panel</a> that lacks its 
<a href="#paneltitle">own title</a>
<li><b><a name="location">Data directory</a></b> (optional)
- where to look for data files opened by the demo;
it is usually best to leave this blank and place 
any data files in the same directory as the 
<a href="#demosrc">demo source file</a>.
<li><b><a name="global">Default delay</a></b> - the time to pause in 
seconds (default <b>5</b>) after executing the commands for a
<a href="#paneldef">panel</a> when in <a href="#autorun"><b>Auto</b></a>
mode; overridden by any individual <a href="#individual">panel delay</a>
<li><b>AutoRun on start</b> (true/<b>false</b>) - whether the
the demo should start in <a href="#autorun"><b>Auto</b></a> mode
<li><b><a name="demoimg">Image</a></b> (optional) 
- a file containing an image to be shown on the demo dialog; 
possible formats are bitmap (*.bmp), GIF (*.gif), 
JPEG (*.jpg), PNG (*.png), and TIFF (*.tif).
The unscaled image will be placed in the upper left; dimensions 
of roughly 100 by 100-250 pixels (width by height) are recommended.
If no image is specified, the dialog will show the 
Chimera logo on a black background.
<li><b>Image background color</b> (a
<a href="../../UsersGuide/coloring.html#colorwell">color well</a>, 
<b>No Color</b> by default)
- the color used to fill in the left side of the demo dialog
under the specified <a href="#demoimg">image</a>.
The width of the rectangle of color will match the width of the image.  
If an image is specified but the background
color is not, a light gray will be used (the same color as 
the rest of the demo dialog).  If no image is specified,
the dialog will show the Chimera logo on a black background.
</ul>
</p><p>
For a demo to be listed in the <b>Tools... Demos</b> menu,
there must be a corresponding directory under <b>share/Demo/demos/</b>.
The directory should include the demo's <a href="#demosrc">source file</a>
(named <b>demo.src</b>) and any associated data files.
For example, the file <b>share/Demo/demos/COX_Demo/demo.src</b>
contains the instructions for the demo that is started by choosing
<b>Tools... Demos... Cyclooxygenase Demo</b> from the menu.
The name that appears in the menu is set within the file
<b>share/Demo/ChimeraExtension.py</b>.
</p>

<a name="edmenu">
<h4>Demo Editor menu:</h4></a>
<p>
<b>File</b>
  <ul>
  <li><b>Open Demo File...</b> bring up a 
  <a href="../../UsersGuide/opensave.html">dialog</a> for
  opening an existing <a href="#demosrc">demo source file</a>
  to be viewed or modified
  <li><b>Run Demo</b> - run the demo according to the current
  contents of the <b>Demo Editor</b>
  <li><b>Save Demo File</b> - save a <a href="#demosrc">demo source file</a>
  representing the current contents of the <b>Demo Editor</b>
  to a pre-existing name/location 
  <li><b>Save Demo File As...</b> save a 
  <a href="#demosrc">demo source file</a> 
  representing the current contents of the <b>Demo Editor</b>
  to a new name/location
  <p>
  (<b>Save Demo File (As)</b> does not save 
  any associated data files; to save data files along with the
  <a href="#demosrc">source file</a>, use <b>File... Save Demo As</b>
  in the <a href="#demomenu">demo dialog menu</a>.)
  </p>
  <li><b>Close Demo File</b> - remove the contents of the <b>Demo Editor</b>
  <li><b>Quit Editor</b> - close the <b>Demo Editor</b>
  </ul>
<b>Edit</b>
  <ul>
  <li><b>Insert Duplicate Panel</b> - add a new <a href="#paneldef">panel</a>
  that is a copy of the <a href="#currpanel">current panel</a>
  </ul>
<hr>
<address>UCSF Computer Graphics Laboratory / August 2009</address>
</body>
</html>
