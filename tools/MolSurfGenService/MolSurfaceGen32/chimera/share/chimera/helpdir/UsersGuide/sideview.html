<!--
--- UCSF Chimera Copyright ---
Copyright (c) 2000-2009 Regents of the University of California.
All rights reserved.  This software provided pursuant to a
license agreement containing restrictions on its disclosure,
duplication and use.  This notice must be embedded in or
attached to all copies, including partial copies, of the
software or any revisions or derivations thereof.
--- UCSF Chimera Copyright ---
-->

<html><head>
<title>The Viewing Tool</title>
</head><body>
<a name="viewingtool">
<h2>The Viewing Tool</h2></a>
<p>
The <b>Viewing Tool</b> has five sections shown as index cards,
<a href="#camera"><b>Camera</b></a>, <a href="#effects"><b>Effects</b></a>,
<a href="#rotation"><b>Rotation</b></a>,
<a href="#sideview"><b>Side View</b></a>, and
<a href="#lighting"><b>Lighting</b></a>.
Only one card is shown at a time, and clicking the tab for another
brings it to the front.
</p><p>
For just the section being shown:
<b>Reset</b> replaces the current settings with the original "factory" defaults,
<b>Restore</b> replaces the current settings with those previously saved in the
<a href="preferences.html#preffile"><b>preferences</b> file</a>,
and <b>Save</b> saves the current settings to the
<a href="preferences.html#preffile"><b>preferences</b> file</a>.
<b>Close</b> dismisses the <b>Viewing Tool</b>, and <b>Help</b> opens
this manual page in a browser window.
</p>

<h3><a name="camera">Camera</a>
<img src="camicon.png"></h3>
<p>
The <b>Camera</b> section of the <a href="#viewingtool"><b>Viewing Tool</b></a>
controls several aspects of the view, including stereo parameters.
There are <a href="extension.html">several ways to start</a>
<b>Camera</b>, a tool in the <b>Viewing Controls</b> category.
Default settings are indicated in <b>bold</b>.
See also: <a href="midas/stereo.html"><b>stereo</b></a>,
<a href="midas/set.html"><b>set projection</b></a>
<ul>
<li><a href="stereo.html#modedef"><b>camera mode</b></a>
(<b>mono</b>/stereo left eye/stereo right eye/cross-eye stereo/wall-eye 
stereo/red-cyan stereo/sequential stereo/row interleaved stereo/DTI 
side-by-side stereo)
- the <a href="stereo.html#modedef">camera mode</a> refers to 
any of several stereo and mono viewing options.  Sequential stereo is 
<a href="stereo.html#sequential">not always available</a>.
<li><b>reverse sequential stereo</b> (true/<b>false</b>) 
- whether to reverse the eye views when in the
<b>sequential stereo</b> <a href="stereo.html#modedef">camera mode</a>
(to compensate for the reversal introduced by certain devices);
can also be specified with the startup option
<a href="options.html#reverse-stereo"><b>--reverse-stereo</b></a>.
This option does not switch the <a href="stereo.html#modedef">camera mode</a>.
<li><a name="projection"><b>projection</b></a> 
(<b>perspective</b>/orthographic) 
- perspective makes farther-away objects smaller, and is
indicated in the <a href="#sideview"><b>Side View</b></a> by red lines
diverging from the eye position.  An orthographic
projection has no scaling-with-distance effect, and is indicated
in the <a href="#sideview"><b>Side View</b></a> by horizontal red lines.
<li><b>scale factor</b> (<b>1</b> when a structure is first opened) -
a factor reflecting the cumulative effects of scaling with 
the mouse, the <a href="#sideview"><b>Side View</b></a>, and/or the command
<a href="midas/scale.html"><b>scale</b></a>
<li><b>near plane</b> - Z-coordinate of the front 
<a href="clipping.html#global">global clipping plane</a>
<li><b>far plane</b> - Z-coordinate of the back
<a href="clipping.html#global">global clipping plane</a>
<li><a name="fov"><b>horizontal field of view</b></a>
(allowed range 1.0-179.0&deg;) 
- how much <a href="#projection">perspective</a> is used;
does not affect the <a href="#projection">orthographic</a> projection.
The vertical field of view will change along with the horizontal field 
of view, but their exact relationship depends on the aspect ratio 
of the graphics window.
<li><a name="stereoparm"><b>Stereo parameters</b></a>
  <ul>
  <li><b>units</b> (millimeters/centimeters/<b>inches</b>)
   - units for the following stereo parameters
  <li><b>eye separation</b> (<b>2.0 inches</b>)
  - effective distance between the left and right eyes
  <li><b>distance to screen</b> - effective distance from the viewer to the
  screen (or <a name="focal"><b><i>focal plane</i></b></a>, 
  even though items out of this plane do not appear "out of focus").
  When viewed in stereo, items in front of the focal plane will 
  appear to project from the screen, and items behind the plane will
  appear to recede behind the screen.
  <li><b>screen width</b> - physical width of the entire screen (not just
  the graphics window).  The value is initially what is
  reported by the windowing system, but it can be edited.  
  Changing the value does not resize the graphics window.
  </ul>
<p>
The <b>eye separation</b> and <b>distance to screen</b> 
govern the parallax between the left- and right-eye views.
The <b>horizontal field of view</b>, <b>distance to screen</b>, and
<b>screen width</b> are interdependent. The <b><i>graphics window width</i></b>
is determined from the <b>screen width</b> and the known pixel dimensions 
of the screen and graphics window.  The <b>horizontal field of view</b>
is computed from the graphics window width and the 
<b>distance to screen</b>.  For a given graphics window width, the 
<b>horizontal field of view</b> and <b>distance to screen</b> are inversely 
related; changing one changes only the other, in the opposite direction.
Changing the <b>screen width</b> or resizing the graphics window
changes only the <b>horizontal field of view</b>, in the same direction.
</p>
</ul>
The <b>horizontal field of view</b>, <b>eye separation</b>, and 
position of the focal plane relative to the items in view can be
changed interactively using the <a href="topview.html"><b>Top View</b></a>.
</p>

<h3><a name="effects">Effects</a>
<img src="efficon.png"></h3>
<p>
The <b>Effects</b> section of the
<a href="#viewingtool"><b>Viewing Tool</b></a>
controls visual effects such as depth cueing.
There are <a href="extension.html">several ways to start</a>
<b>Effects</b>, a tool in the <b>Viewing Controls</b> category.
Default settings are indicated in <b>bold</b>.
See also: <a href="midas/set.html"><b>set</b></a>
<ul>
<li><a name="dc"><b>depth cueing</b></a> (<b>on</b> by default)
refers to front-to-back shading with the 
<a href="#dccolor">depth-cueing color</a>.
The shading increases linearly from <b>start</b> to <b>end</b>.
  <ul>
  <li><b>start</b> (<b>0.5</b>) - where depth-cueing starts,
  relative to the front (0.0) and back (1.0)
  <a href="clipping.html#global">global clipping planes</a>;
  values outside the 0-1 range are allowed
  <li><b>end</b> (<b>1.0</b>) - where depth-cueing attains full strength,
  relative to the front (0.0) and back (1.0)
  <a href="clipping.html#global">global clipping planes</a>;
  values outside the 0-1 range are allowed
  <li><a name="dccolor"><b>color</b></a>
  (a <a href="coloring.html#colorwell">color well</a>,
  <b>No Color</b> by default)
  - the color used for front-to-back shading (depth cueing).
  When set to No Color, the shading color will be the same as the 
  <a href="chimerawindow.html#bg_color">background color</a>.
  </ul>
<br>
<li><a name="silhouette"><b>silhouettes</b></a> (<b>off</b> by default)
highlights borders and discontinuities with a thin outline in the
<a href="#silcolor">silhouette color</a>
  <ul>
  <li><a name="silcolor"><b>color</b></a>
  (a <a href="coloring.html#colorwell">color well</a>, 
  <b>No Color</b> by default)
  - when set to No Color, the silhouette color will be gray if
  the background is black, otherwise black.
  <li><b>width</b> (<b>1.0</b>) - silhouette linewidth
  </ul>
<br>
<li><a name="subqual"><b>subdivision quality</b></a> (<b>1.0</b>, maximum 20.0) 
- the stick, ball-and-stick, sphere, and ribbon
<a href="representation.html">representations</a>
consist of curved surfaces approximated by collections of planes; 
increasing the subdivision quality increases the number of planes
and the apparent smoothness.  This setting also affects
curved geometric objects defined in <a href="bild.html">BILD format</a>,
but not <a href="representation.html#surfaces">molecular surfaces</a>.
<a name="subup">
If less than 5.0, the <b>subdivision quality</b> will be set
to 5.0 automatically and temporarily when an image is saved</a>
with the <a href="print.html#saveimage"><b>Save Image</b> dialog</a>
or the <b><A href="midas/copy.html">copy</A></b> command.
<li><b>local viewer</b> (true/<b>false</b>) -  whether for lighting purposes
the actual (local) position of the viewer is used.  The alternative of
treating the viewer as infinitely far away simplifies the lighting
calculations and is more computationally expedient.  The difference
in appearance is generally quite subtle.
<li><a name="transback"><b>transparent background</b></a> (true/<b>false</b>)
- whether to make the background transparent and allow its opacity to be
adjusted (opacity = 1 &ndash; transparency).  Not all systems have the 
hardware required to support this option.
PNG and TIFF images <a href="print.html">saved</a>
from the session will include opacity information,
making them easier to composite with different backgrounds
in image-editing applications.  (<b>Note:</b> TIFF images with 
background transparency may not be interpreted correctly by Adobe
Photoshop&reg;.)
With this option, the opacity is initially set to zero;
if the background color is subsequently changed, however, 
the background will no longer be transparent unless the color
definition includes transparency.
Background transparency can also be enabled with the 
startup option <a href="options.html#bgopacity"><b>--bgopacity</b></a>.
For background transparency in <a href="raytracing.html">raytraced</a> images, 
see the <a href="preferences.html#POV-Ray Options"><b>POV-Ray Options</b> 
preferences</a>.
<li><a name="shadows"><b>show shadows</b></a> (true/<b>false</b>)
- display interactive shadows to enhance 3D perception during interactive use
and/or to preview shadow locations before saving a 
<a href="raytracing.html">raytraced</a> image.
The appearance of these interactive shadows is fairly rough, so for saving 
images, <a href="raytracing.html">raytracing</a> is recommended instead.
** On <b>Mac OS 10.4 (PPC, Intel) and 10.5 (PPC)</b>:
do not turn on interactive shadows in the <b>X11 version</b> of Chimera,
as this has been observed to freeze the display. **
<li><b>multisampling</b> (true/false)
- whether to use multiple samples per pixel so that edges are antialiased
(the default setting depends on the graphics card).  
Most modern graphics cards support multisampling, although certain
graphics driver bugs may necessitate turning it off.
Multisampling can also be enabled with the 
startup option <a href="options.html#multisample"><b>--multisample</b></a>.
</ul>
</p>

<h3><a name="rotation">Rotation</a>
<img src="roticon.png"></h3>
<p>
The <b>Rotation</b> section of the <a href="#viewingtool">
<b>Viewing Tool</b></a> controls rotation behavior.
There are <a href="extension.html">several ways to start</a>
<b>Rotation</b>, a tool in the <b>Movement</b> category.
See also: <a href="midas/cofr.html"><b>cofr</b></a>,
<a href="midas/set.html"><b>set independent</b></a>
<ul>
  <li><b>center of rotation method</b>:
    <ul>
    <li><b>fixed</b> - at a fixed point relative to the model(s),
    see <a href="#rotcen"><b>rotation center</b></a>
    <li><b>center of models</b>
    - at the center of the bounding sphere of the displayed parts of 
    <a href="mouse.html#activedef">active</a> models
    <li><b>independent</b> - a separate center for each model
    rather than a single collective center
    <li><b>center of view</b> - continually adjusted 
    to the current center of view (in the middle of the window, 
    halfway between the front and back 
    <a href="clipping.html#global">global clipping planes</a>)
    <li><b>front center</b> (default) - when the view is zoomed out,
    behaves like <b>center of models</b>;
    when the view is zoomed in on parts of items,
    behaves like <b>center of view</b>, except the center of rotation
    depth (Z-coordinate) is set to that of the frontmost displayed 
    unclipped atom whose VDW sphere intercepts a line perpendicular to the 
    screen in the window center.  
    The center is not updated when only rotations are performed.
    </ul>
  <li><a name="rotcen"><b>rotation center</b></a> (X, Y, and Z coordinates
  in the laboratory frame of reference)
- editable only when the center of rotation method is <b>fixed</b>,
meaningless when models are set to rotate independently
</ul>
</p>

<h3><a name="sideview">Side View</a><img src="svicon.png"></h3>

<table border="1" align="right" style="margin:8px 8px 8px 8px"> 
<tr><td><img src="side.png" alt="Side View"></td></tr>
</table>
<p>
The <b>Side View</b> section of the <a href="#viewingtool">
<b>Viewing Tool</b></a> provides a convenient and intuitive way to scale 
the view and to control <a href="clipping.html">clipping</a>.
There are <a href="extension.html">several ways to start</a>
the <b>Side View</b>, a tool in the <b>Viewing Controls</b> category.
<ul>
<li>The yellow square on the left represents the viewer's eye position. 
Dragging it horizontally with the left mouse button adjusts the 
<b>scale factor</b>.
This does <i>not</i> change the <a href="#stereoparm">stereo parameter</a>
<b>distance to screen</b>.
Double-clicking the eye position brings up a menu for changing the
<a href="stereo.html#modedef">camera mode</a>.
<br><br>
<li>The vertical yellow lines represent the front and back 
(<b><i>hither</i></b> and <b><i>yon</i></b>) 
<a href="clipping.html#global">global clipping planes</a>.
Each can be dragged with the left mouse button.
Dragging the hither plane with the middle mouse button 
moves both clipping planes in the same direction, while dragging
the yon plane with the middle mouse button
moves the clipping planes in opposite directions.
<br><br>
<li>The red lines emanating from the eye position show the field of vision.
The lines diverge when <a href="#projection">perspective</a> is used,
but are parallel in the <a href="#projection">orthographic</a> projection.
</ul>
Simultaneously holding down the Shift key reduces the speed
(mouse sensitivity) of dragging operations by a factor of 10.
</p><p>
Clicking
<b>View All</b> turns off <a href="clipping.html#global">global clipping</a>
and adjusts the scale to include everything that is displayed.
Model rotations and translations are not adjusted.
</p><p>
The <b>Clip</b> checkbox indicates <a href="clipping.html#global">global 
clipping</a> status (on or off). <b>Cap clipped surfaces...</b> brings up the
<a href="../ContributedSoftware/surfcapper/surfcapper.html"><b>Surface
Capping</b></a> dialog for controlling the appearance of planar
caps where surfaces are sliced away.
</p><p>
The default <b>View</b> is <b>right</b>: it shows the relationship
between the viewer and the Chimera scene from the viewer's right side.
Setting <b>View</b> to <b>top</b> switches to a 
<a href="topview.html">top view</a> in which
stereo parameters and perspective can be adjusted interactively.
</p><p>
By default, the miniature display of the Chimera scene
is shown at <b>high</b>  resolution, with colors and 
<a href="representation.html">representations</a> the same
as in the main display.  Using <b>low</b> resolution
simplifies the miniature to molecule chain traces and 
surface/object bounding box outlines.  Low resolution is
recommended if performance seems slow with larger systems.
</p>

<h3><a name="lighting">Lighting</a>
<img src="lighticon.png"></h3>
<p>
The <b>Lighting</b> section of the 
<a href="#viewingtool"><b>Viewing Tool</b></a>
allows lighting parameters to be changed and <a href="#lightsave">saved</a>.
There are <a href="extension.html">several ways to start</a>
<b>Lighting</b>, a tool in the <b>Viewing Controls</b> category.
</p>
<table border="1" align="right" style="margin:8px 8px 8px 8px"> 
<tr><td><img src="lightball.png"></td></tr>
</table>
<p>
The interface can be switched among:
<ul>
<li><a href="#basiclight"><b>Lights (basic)</b></a>
<li><a href="#advancedlight"><b>Lights (advanced)</b></a>
<li><a href="#shininess"><b>Shininess</b></a>
</ul>
The <b>key light</b> is generally the brighter source of light; 
the <b>fill light</b> is secondary and serves to reveal areas that would
otherwise be dark (<a href="lighting.html">details...</a>).
</p><p>
The lights can be moved interactively by dragging the 
solid arrows (red for key, green for fill) on the sphere.
If a light is <a href="#activelight">turned off</a>, its arrow
is not shown.  Outlines on the sphere represent directions
that typically give favorable results.
Only the <a href="#advancedlight">advanced interface</a>
allows <a href="#activelight">turning off</a> a light 
or placing it behind the sphere.
</p><p>
The <a name="basiclight"><b>Lights (basic)</b></a> interface includes:
<ul>
<li><b>brightness</b> (default <b>1.0</b>; 
slider values range from 0.1 to 5.0) - total illumination of the scene
<li><b>key-to-fill ratio</b> (default <b>2.0</b>;
slider values range from 1.0 to 20.0) - what proportion of the total
illumination is contributed by each light
<li><b>quality</b> (<b>normal</b>/glossy) 
- the <b>glossy</b> setting uses an OpenGL shader to provide per-pixel 
lighting, which gives a glossy appearance, and angle-dependent transparency.  
This option is grayed out 
if not supported by the graphics driver.  Mac users should be aware
that on a given machine, the option may be available in the Aqua 
version of Chimera but not the X11 version.
With <b>normal</b> lighting,
specular highlights are only calculated at triangle vertices and 
linearly interpolated across triangles, and transparent triangles do
not appear more opaque when viewed edge-on as compared to face-on.
Separate but related settings
can be found in the <a href="#shininess"><b>Shininess</b></a> section.
</ul>
The <a name="advancedlight"><b>Lights (advanced)</b></a>
interface contains additional parameters of the 
<a name="currentlight"><b><i>current light</i></b></a>
(either the <b>key light</b> or the <b>fill light</b>, 
depending on which box is checked).
Default settings are indicated in <b>bold</b>.
<ul>
<li><a name="activelight"><b>active</b></a> (<b>true</b>/false) - 
whether the light is "on."
When the key and fill lights are both inactive, the lighting reverts
to a single white light aimed along the line of sight.
<li><b>diffuse color</b> (a <a href="coloring.html#colorwell">color well</a>,
<b>white</b> by default)
<li><b>diffuse scale</b> (defaults are 
approximately <b>0.653</b> for the key light and
<b>0.500</b> for the fill light) - multiplicative scale factor for the diffuse
light.  Possible values range from -5.0 to 5.0, where 
negative values result in subtraction of the diffuse light
(see the <a href="lighting.html#combination">combination rules</a>).
<li><b>specular color</b> (a <a href="coloring.html#colorwell">color well</a>,
<b>white</b> by default)
<li><b>specular scale</b> (defaults are <b>1.0</b> for the key light and
<b>0.0</b> for the fill light) - multiplicative scale factor for the specular
light.  Possible values range from -5.0 to 5.0, where
negative values result in subtraction of the specular light
(see the <a href="lighting.html#combination">combination rules</a>).
A light with a specular scale of 0 will be treated as shadowless
during <a href="raytracing.html">raytracing</a>.
<li><b>direction</b> (X, Y, and Z coordinates; by default, approximately
<b>-0.383,0.707,0.707</b> for the key light and <b>0.259,0.259,0.966</b>
for the fill light) - the apparent source location on a unit sphere 
with positive X, Y, and Z pointing right, up, and out from the screen.
</ul>
When the <a href="#advancedlight">advanced interface</a>
is shown, only the solid arrow representing the
<a href="#currentlight">current light</a> can be moved with the mouse,
but it can be moved behind the sphere (not possible when the
<a href="#basiclight">basic interface</a> is shown).
</p><p>
<a name="lightsave">
Settings in the <a href="#lighting"><b>Lighting</b> tool</a>
collectively define a scheme that can be 
named, saved, and later retrieved from the pulldown list 
</a>
indicated by the solid black triangle next to the <b>Lighting</b> field.  
Choosing a scheme from the list automatically applies it to the 
view in Chimera.  When the name <b>Chimera default</b> is shown, it is only
possible to save to a different name, using <b>Save As...</b>.
When another name is shown, it is possible to
<ul>
<li><b>Save</b> the current scheme to the name shown
<li>use <b>Save As...</b> to save the current scheme 
with a new name
<li><b>Delete</b> the scheme whose name is shown
</ul>
Named schemes are saved in the Chimera
<a href="preferences.html#preffile"><b>preferences</b>
file</a>, and are only updated with any changes
when <b>Save</b>, <b>Save As...</b>, or <b>Delete</b> is used.
The settings in effect when a session is
<a href="sessions.html#savesess">saved</a> 
(whether or not the scheme has a name) are included in the 
<a href="sessions.html">session file</a>.
</p>

<h3><a name="shininess">Shininess</a>
<img src="shininess.png"></h3>
<p>
The <b>Shininess</b> interface controls the specular parameters of 
viewed items (rather than light sources):
shininess, brightness, and the color used for shiny highlights.
Although part of the <a href="#lighting"><b>Lighting</b> tool</a>,
<b>Shininess</b> is also <a href="extension.html">handled</a>
as a separate tool in the <b>Viewing Controls</b> category.
</p>
<ul>
<li><b>shininess</b> (<b>30</b> by default; ranges from 1 to 128) refers to
the "spread" of highlights; lower values yield larger, more diffuse highlights, 
while higher values yield more pointlike highlights.  Technically,
<b>shininess</b> is the OpenGL specular exponent.  The effective highlight
intensity varies as the cosine of the angle between the view direction
and the direction of the reflected light, raised to the power of this exponent.
<li><b>specular color</b>
(a <a href="coloring.html#colorwell">color well</a>, a light gray by default)
is the color used for shiny highlights.
It is added to the color that would be shown in the absence of highlights.
If the color is already bright white, highlights will not be discernable;
if the color is nominally green and the specular color is red,
the highlights will appear to be yellow.
This explanation assumes that all light sources are white or gray; however,
lights have their own <a href="#advancedlight">diffuse and specular colors</a>, 
which must be <a href="lighting.html#combination">combined</a> with
that of the material.
<li><b>brightness</b> (<b>1.0</b> by default; ranges from 0.1 to 10)
scales the intensity of the <b>specular color</b> components, and
the resulting values may exceed 1.
</ul>
<p>
The <b>Shininess</b> interface
adjusts the material properties of the Chimera default material.
Stick, ball-and-stick, sphere, and ribbon
<a href="representation.html">representations</a>
and <a href="representation.html#surfaces">MSMS molecular surfaces</a>
use the default material.  It is not possible to independently
control the shininess of different models that use the default material.
Except for surfaces generated by
<a href="../ContributedSoftware/volumeviewer/framevolumeviewer.html"
target="_top"><b>Volume Viewer</b></a> and
<a href="../ContributedSoftware/multiscale/framemulti.html" target="_top">
<b>Multiscale Models</b></a> (for which special code was written),
the properties of models that do not use the default material 
(VRML models, for example) are not adjusted.
</p>
<hr>
<address>UCSF Computer Graphics Laboratory / May 2009</address>
</body></html>
