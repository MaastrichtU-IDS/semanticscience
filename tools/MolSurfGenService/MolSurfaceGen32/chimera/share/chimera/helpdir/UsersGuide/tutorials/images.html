<!--
--- UCSF Chimera Copyright ---
Copyright (c) 2004-2009 Regents of the University of California.
All rights reserved.  This software provided pursuant to a
license agreement containing restrictions on its disclosure,
duplication and use.  This notice must be embedded in or
attached to all copies, including partial copies, of the
software or any revisions or derivations thereof.
--- UCSF Chimera Copyright ---
-->

<html><head>
<title>Image Tutorial: Glycoside Hydrolases</title>
</head><body>
<h2>Image Tutorial: Glycoside Hydrolases</h2>

<p>
This tutorial describes superimposing structures, saving positions and
sessions, and creating publication-quality images.  
The process described here is only one of many possibilities.
Internet connectivity is required 
to fetch the structures <b>1uyp</b>, <b>1gyd</b>, and <b>1oyg</b>.
</p><p>
See also:
<a href="../menu.html#menupresets">presets</a>,
<a href="../print.html#tips">tips on preparing images</a>,
and on the Chimera Web site, the
<a href="http://www.cgl.ucsf.edu/chimera/ImageGallery/"
target="_blank">Image Gallery</a>
</p>

<a name="bg">
<h3>Background and Setup</h3></a>

<a name="images"></a>
<table align="right" width ="263" style="margin:8px 8px 8px 8px">
<tr><td>
<a href="overall.png" title="click for full-sized image...">
<img src="overall.png" width="263" height="223"></a>
</td></tr><tr><td>
<a href="closeup.png" title="click for full-sized image...">
<img src="closeup.png" width="263" height="223"></a>
</td></tr>
<tr><td>
<b>Invertase (GH 32) is coral, arabinanase A (GH 43) is purple,
and levansucrase (GH 68) is turquoise.  Despite significant divergence,
the enzymes share similar overall folds (top) 
and highly conserved active site residues (bottom).</b>
</td></tr>
</table>

<p>
Glycoside hydrolases (GH) are a large, heterogeneous set of enzymes that
hydrolyze bonds between sugars and other groups.
Based on sequence comparisons, these enzymes have been categorized
into many families; see the 
<a href="http://www.cazy.org/fam/acc_GH.html" target="_blank">CAZy web site</a>
for details.
</p><p>
This tutorial describes the creation of images to show 
structural similarities among members of GH families 32, 43, and 68.
These enzymes were grouped into different families because their 
similarities were not evident from sequence comparisons.
<a name="references">
<blockquote>
<a href="http://www.ncbi.nlm.nih.gov/pubmed/14747991" target="_blank">
Three acidic residues are at the active site of a beta-propeller architecture 
in glycoside hydrolase families 32, 43, 62, and 68.</a>
Pons T, Naumoff DG, Mart&iacute;nez-Fleites C, Hern&aacute;ndez L.
<i>Proteins.</i> 2004 Feb 15;<b>54</b>(3):424-32.
</blockquote>
<blockquote>
<a href="http://www.ncbi.nlm.nih.gov/pubmed/14973124" target="_blank">
The three-dimensional structure of invertase (beta-fructosidase) 
from Thermotoga maritima reveals a bimodular arrangement and an 
evolutionary relationship between retaining and inverting glycosidases.</a>
Alberto F, Bignon C, Sulzenbacher G, Henrissat B, Czjzek M.
<i>J Biol Chem.</i> 2004 Apr 30;<b>279</b>(18):18903-10.
</blockquote>
</a>
</p><p>
On <b>Windows</b>/<b>Mac</b>, click the <b>chimera</b> icon.
On <b>UNIX</b>, start Chimera from the system prompt:
<blockquote><tt>
<i>unix</i>: <b>chimera</b>
</tt></blockquote>
A basic Chimera window should appear after a few seconds; resize it as desired.
Open the <a href="../chimerawindow.html#emulator"><b>Command Line</b></a>
(choosing <b>Tools... General Controls... Command Line</b> is one way).
</p><p>
If you have internet connectivity, structures can be obtained directly from the
<a href="http://www.rcsb.org" target="_blank">Protein Data Bank</a>.
Choose <b>File... <a href="../fetch.html">Fetch by ID</a></b> 
from the Chimera menu.  In the resulting dialog,
check the <b>PDB</b> option (if it is not already checked) 
and the option to <b>Keep dialog up after Fetch</b>.  
Fetch the PDB structures <b>1uyp</b>, <b>1gyd</b>, and <b>1oyg</b>,
in that order, and then <b>Close</b> the dialog.
</p><p>
<a name="conserved">Some salient features of these structures</a>:
</p>
<table border cellpadding="4" cellspacing="0">
<tr>
<th align="center">PDB ID</th><th align="center">enzyme</th>
<th align="center">family</th>
<th align="center">chains</th>
<th align="center" colspan=3>conserved residues</th>
<th align="center">model # in Chimera</th>
</tr><tr>
<td align="center"><b>1uyp</b></td>
<td align="center">invertase,<br><i>T. maritima</i></td>
<td align="center">
<a href="http://www.cazy.org/fam/GH32.html" target="_blank">GH32</a></td>
<td align="center">A-F</td>
<td align="center">Asp17</td>
<td align="center">Asp138</td>
<td align="center">Glu190</td>
<td align="center">0</td>
</tr><tr>
<td align="center"><b>1gyd</b></td>
<td align="center">arabinanase A,<br><i>C. japonicus</i></td>
<td align="center">
<a href="http://www.cazy.org/fam/GH43.html" target="_blank">GH43</a></td>
<td align="center">B</td>
<td align="center">Asp38</td>
<td align="center">Asp158</td>
<td align="center">Glu221</td>
<td align="center"><font color="mediumvioletred">1</font></td>
</tr><tr>
<td align="center"><b>1oyg</b></td>
<td align="center">levansucrase,<br><i>B. subtilis</i></td>
<td align="center">
<a href="http://www.cazy.org/fam/GH68.html" target="_blank">GH68</a></td>
<td align="center">A</td>
<td align="center">Asp86</td>
<td align="center">Asp247</td>
<td align="center">Glu342</td>
<td align="center"><font color="lightseagreen">2</font></td>
</tr><tr>
</table>
<p>
Simplify the situation by deleting unwanted (for our purposes)
portions of the structures such as extra chains and solvent:
<blockquote>
<i>Command</i>: <b><a href="../midas/delete.html">delete</a> #0:.b-f</b>
<br>
<i>Command</i>: <b><a href="../midas/delete.html">delete</a> solvent | ligand | ions</b>
</blockquote>
<a href="../mouse.html">Move and scale</a> the structures
as desired throughout the tutorial.
</p>

<a name="ribstyle">
<h3>Ribbons</h3></a>
<p>
Choose <b>Presets... Interactive 1 (ribbons)</b> from the menu.
Styles of ribbon include <b>flat</b>, <b>edged</b>, and
as used in the preset, <b>rounded</b>.
<blockquote>
<i>Command</i>: <b><a href="../midas/ribrepr.html">ribrep</a> flat</b>
<br>
<i>Command</i>: <b><a href="../midas/ribrepr.html">ribrep</a> edged</b>
<br>
<i>Command</i>: <b><a href="../midas/ribrepr.html">ribrep</a> rounded</b>
</blockquote>
Custom ribbon
<a href="../../ContributedSoftware/ribbonstyle/ribbonstyle.html#xsection">styles</a> 
and
<a href="../../ContributedSoftware/ribbonstyle/ribbonstyle.html#scaling">scalings</a> (secondary-structure-specific heights and widths)
can be created with the
<a href="../../ContributedSoftware/ribbonstyle/ribbonstyle.html"><b>Ribbon
Style Editor</b></a> (<b>Tools... Depiction... Ribbon Style Editor</b>).
</p><p>
Although the
<a href="#images">examples</a> show ribbons for the entire chains,
each residue's ribbon segment can be shown or hidden. For example, the
following hides ribbons for the C-terminal domain of 
the first structure (model 0):
<blockquote>
<i>Command</i>: <b><a href="../midas/ribbon.html">~ribbon</a> #0:296-end</b>
</blockquote>
A command without residues specified affects all residues:
<blockquote>
<i>Command</i>: <b><a href="../midas/ribbon.html">ribbon</a></b>
</blockquote>
</p>

<a name="matching">
<h3>Matching the Structures</h3></a>
<p>
Since a set of structurally equivalent residues is known, 
an efficient way to superimpose the structures is by 
<a href="../midas/atom_spec.html#basic">specifying atoms</a> 
to use in a least-squares fit.  
The <a href="../midas/match.html"><b>match</b></a> command
requires equal numbers of atoms from the two models being matched.
The following specifies
the backbone atoms N, CA, C, O in each 
<a href="#conserved">conserved residue</a>:
<blockquote>
<i>Command</i>:&nbsp;<b><a href="../midas/match.html">match</a>&nbsp;#1:38,158,221@n,ca,c,o&nbsp;#0:17,138,190@n,ca,c,o</b><br>
<i>Command</i>:&nbsp<b><a href="../midas/match.html">match</a>&nbsp;#2:86,247,342@n,ca,c,o&nbsp;#0:17,138,190@n,ca,c,o</b>
</blockquote>
Model 0 (invertase) was used as the reference structure for both pairwise
matches.
<a name="chainspec">
The chains did not need to be specified because each model
only has one chain (chains B-F were deleted from model 0).
Chain identifiers are needed to specify residues uniquely when 
the same residue number occurs in more than one chain in the same model.
</a>
The number of points used for fitting and the
resulting RMSD values are reported in the 
<a href="../reply.html"><b>Reply Log</b></a>.
</p><p>
Alternatively, <a href="../midas/mmaker.html"><b>matchmaker</b></a> 
could have been used to superimpose the structures:  
<blockquote>
<i>Command</i>:&nbsp;<b><a href="../midas/mmaker.html">mm</a>&nbsp;#0&nbsp;#1</b><br>
<i>Command</i>:&nbsp<b><a href="../midas/mmaker.html">mm</a>&nbsp;#0&nbsp;#2</b>
</blockquote>
This uses the protein sequences and secondary structure assignments
to generate alignments, then fits the CA atoms of the aligned pairs.
See <a href="../superposition.html">superimposing structures</a> for more
discussion of the different methods.
</p>

<a name="important">
<h3>Important Residues</h3></a>
<p>
Select the <a href="#conserved">conserved residues</a>:
<blockquote>
<i>Command</i>:&nbsp;<b><a href="../midas/select.html#newer">select</a>&nbsp;#0:17,138,190&nbsp;#1:38,158,221&nbsp;#2:86,247,342</b>
</blockquote>
The <a href="../midas/atom_spec.html#basic">atom specification</a>
should not contain spaces except (optionally)
before the model symbols <b>#</b>.
</p><p>
Show only those atoms/bonds, and use the ball-and-stick style:
<blockquote>
<i>Command</i>: <b><a href="../midas/show.html">show</a> sel</b>
<br>
<i>Command</i>: <b><a href="../midas/represent.html">repr</a> bs sel</b>
<br>
<i>Command</i>:&nbsp;<b><a href="../midas/select.html#newer">~sel</a></b>
</blockquote>
Even though all atoms of the residues are "displayed," by default
the backbone atoms are hidden when ribbon is shown 
(this can be controlled with the command
<a href="../midas/ribbackbone.html"><b>ribbackbone</b></a>).
</p>

<a name="colors">
<h3>Colors</h3></a>
<p>
The background can be any color, but white is often best for publication. 
<blockquote>
<i>Command</i>: <b><a href="../midas/set.html">set</a> bg_color white</b>
</blockquote>
Other ways to change the background color are with the
<a href="../menu.html#actcolor"><b>Actions... Color</b></a> menu, the
<a href="../preferences.html#Background"><b>Background</b> preferences</a>,
or <a href="../menu.html#menupresets">presets</a>.
Presets change several display settings at once. 
</p><p>
Choose a different color for each model:
<blockquote>
<i>Command</i>: <b><a href="../midas/select.html#newer">sel</a> #0</b>
<br>
<b>Actions... Color... all colors</b> [pick a color]
</blockquote>
Repeat for models 1 and 2.
For the <a href="#images">example images</a>, the colors named
<b>coral</b>, <b>medium purple</b>, and <b>turquoise</b> were chosen 
for models 0, 1, and 2, respectively.
</p><p>
Clear the selection:
<blockquote>
<i>Command</i>: <b><a href="../midas/select.html#newer">~sel</a></b>
</blockquote>
</p>

<a name="views">
<h3>Positions</h3></a>
<p>
Resize the Chimera window to the desired aspect ratio and
find view(s) suitable for the images.  
A view or <b><i>position</i></b> refers to the locations and orientations of 
the structures, the overall scale, and the positions of the 
<a href="../sideview.html#sideview">clipping planes</a>.
</p><p>
For the <a href="#images">example images</a>, a position was found
that showed the overall structures well, and when scaled up
(without further rotation) showed the conserved side chains well.
The zoomed-out position was named <b>overall</b> and the scaled-up position
was named <b>closeup</b>: 
<blockquote>
<i>Command</i>: <b><a href="../midas/savepos.html">savepos</a> overall</b>
<br>
<i>Command</i>: <b><a href="../midas/scale.html">scale</a> 4</b>
<br>
<i>Command</i>: <b><a href="../midas/savepos.html">savepos</a> closeup</b>
</blockquote>
Saved positions are included in saved <a href="#sessions">sessions</a>
and can be regenerated:
<blockquote>
<i>Command</i>: <b><a href="../midas/reset.html">reset</a> overall</b>
<br>
<i>Command</i>: <b><a href="../midas/reset.html">reset</a> closeup</b>
</blockquote>
These positions were used for the <a href="#images">example images</a>.
</p>

<a name="effects">
<h3>Effects and Rendering Quality</h3></a>
<p>
Depth cueing is front-to-back shading of the scene, which
looks like "fog" when the depth cueing color is light.
By default, the depth cueing color automatically matches the background.
Turn off depth cueing to remove the fog effect:
<blockquote>
<i>Command</i>: <b><a href="../midas/set.html">~set</a> depth_cue</b>
</blockquote>
The stick, ball-and-stick, sphere, and ribbon 
<a href="../representation.html">display styles</a>
are made up of planar facets. The coarseness of the facets is controlled
by the subdivision quality parameter, which ranges from 1 (default) to 20.
Make the ribbons, atoms, and bonds smoother by increasing 
subdivision quality to 5:
<blockquote>
<i>Command</i>: <b><a href="../midas/set.html">set</a> subdivision 5</b>
</blockquote>
Silhouettes are outlines that highlight boundaries and discontinuities.
Turn on silhouettes and adjust their width to 1.5:
<blockquote>
<i>Command</i>: <b><a href="../midas/set.html">set</a> silhouette</b>
<br>
<i>Command</i>: <b><a href="../midas/set.html">set</a> silhouette_width 1.5</b>
</blockquote>
The silhouettes look rough in the Chimera window, but they will be smooth
in the saved images due to <a href="#supersamp">supersampling</a>.
</ul>
Depth cueing, subdivision quality, and silhouettes
can also be controlled in the 
<a href="../sideview.html#effects"><b>Effects</b> tool</a>
(<b>Tools... Viewing Controls... Effects</b>).  
Silhouettes and increased subdivision quality may degrade interactive 
response; if so, adjust these settings last before saving
<a href="#sessions">sessions</a> and <a href="#saving">images</a>.
</p>

<a name="sessions">
<h3>Sessions</h3></a>
<p>
A <a href="../sessions.html">session</a> file can be saved with 
<b>File... Save Session As</b> (in this case,
<a href="images.py">images.py</a> was saved).
It is generally prudent to save sessions for publication images,
as this decreases the labor necessary if figures have
to be redone.  Often minor adjustments such as changing a color or
displaying a different set of side chains will be required.
</p><p>
Later, the session can be restarted with <b>File... Restore Session</b>.
Any <a href="#views">positions</a> that were saved before the session was saved
can be regenerated with the command
<b><a href="../midas/reset.html">reset</a></b>.
</p>

<a name="saving">
<h3>Saving Images</h3></a>
<p>
Choosing <b>File... Save Image</b> brings up the 
<a href="../print.html"><b>Save Image</b> panel</a>.
</p><p>
<a name="supersamp">Supersampling</a> refers to generating an initial image 
larger than that requested and then sampling it down to the final size.
This smooths edges within the image.
The default <a href="../print.html#supersampling"><b>Supersample</b></a>
setting of 3x3, used for the <a href="#images">examples</a>,
is generally sufficient for publication. 
</p><p>
<b>Maintain current aspect ratio</b> means that if the size along
one dimension (width or height) is changed, clicking the entry field 
for the other dimension will automatically update its value
according to the current aspect ratio of the graphics window.
The dimensions can be specified directly in pixels, or in units of length
(when <a href="../print.html#printunits"><b>Use print units</b></a> is on).
If units of length, the output pixel dimensions are calculated using the
specified <a href="../print.html#resolution"><b>Print resolution</b></a>.
The graphics window can be resized manually or with the command
<a href="../midas/windowsize.html"><b>windowsize</b></a>.
</p><p>
To make an image for a single-column width of
85 mm (3.346 in) with a resolution of at least 300 dpi, possible approaches
include:
<ul>
<li>with <b>Units</b> set to <b>pixels</b>, setting the <b>Image width</b> 
to at least 1004 pixels (3.346 x 300)
<li>activating <a href="../print.html#printunits"><b>Use print units</b></a>, 
and with <b>Units</b> set to <b>inches</b>, setting the 
<b>Image width</b> to at least 3.346 inches and the
<a href="../print.html#resolution"><b>Print resolution</b></a> to 300 dpi
<li>activating <a href="../print.html#printunits"><b>Use print units</b></a>, 
and with <b>Units</b> set to <b>millimeters</b>, setting the 
<b>Image width</b> to at least 85 mm and the
<a href="../print.html#resolution"><b>Print resolution</b></a> to 300 dpi
</ul>
Clicking <b>Save As</b> initiates rendering the image.
When image computation is finished,
file type (format), location and name can be specified, 
or the save can be canceled.
</p><p>
The <a href="#images">example images</a> were saved in PNG format;
other possibilities are TIFF, JPEG, PS (PostScript), and
EPS (Encapsulated PostScript).
</p>
<hr>
<address>meng-at-cgl.ucsf.edu / December 2009</address>
</body></html>
