<!--
--- UCSF Chimera Copyright ---
Copyright (c) 2007 Regents of the University of California.
All rights reserved.  This software provided pursuant to a
license agreement containing restrictions on its disclosure,
duplication and use.  This notice must be embedded in or
attached to all copies, including partial copies, of the
software or any revisions or derivations thereof.
--- UCSF Chimera Copyright ---
-->

<html><head>
<title>topography</title>
</head><body>
<font size="-1">
<a href="../framecommand.html" target="_top">Chimera Commands Index</a>
</font>

<h3><a href="usageconventions.html">Usage</a>:
 <BR><b>topography</b> <i>model-spec</i>
<a href="#options"><i>options</i></a></h3>
<p>
The <b>topography</b> command creates a surface in which height
represents the values in a single plane of 
<a href="../filetypes.html#volume">volume data</a>.  The volume data 
should first be <a href="../filetypes.html">opened</a> and only a
<a href="../../ContributedSoftware/volumeviewer/volumeviewer.html#planes">single
plane</a> displayed.  
<i>Model-spec</i> is the model number of the data, preceded by #.
</p><p>
The topographic surface is opened as a new
<a href="../surfattrib.html#surfmodels">surface model</a>
named after the volume data but with the word <b>height</b> appended. 
Creating or rotating the surface can be slow. Default options for a 512 x 512 
data plane create a 1 million-triangle surface.  Such a surface took 5 seconds 
to create and rendered at 2 frames per second on a 2005 Mac G5 PPC. 
Surface size can be reduced by adjusting the volume plane display 
beforehand to a larger
<a href="../../ContributedSoftware/volumeviewer/volumeviewer.html#datastep">
step size</a> and/or smaller
<a href="../../ContributedSoftware/volumeviewer/volumeviewer.html#subregiondef">
subregion</a>.
</p>

<a name="options">
<h4>Options</h4>
</a><p>
Option keywords for <b>topography</b> can be truncated to unique strings and 
their case does not matter.  
Synonyms for true: True, 1.  Synonyms for false: False, 0.
A vertical bar "|" designates mutually exclusive options, and
default settings are indicated with <b>bold</b>.
</p>
<blockquote>
  <tt><b>height</b> <i>h</i></tt>
   <br>Values will be mapped linearly to surface heights of up to <i>h</i>
   (in the physical units of the volume data) from the volume data plane.   
   The surface minimum will coincide with the volume data plane.
   The default <i>h</i> is 10% of the data size along the X axis.
</blockquote>
<blockquote>
  <tt><b>interpolation</b> cubic|<b>none</b></tt>
  <br>Cubic interpolation generates additional data points in the plane to 
make a surface with four times as many triangles.  
The finer triangulation improves surface appearance but slows rendering.
</blockquote>
<blockquote>
  <tt><b>meshType</b> <b>isotropic</b>|slash|backslash</tt>
    <br>Whether to represent each data grid cell with four triangles and
an added center point (<b>isotropic</b>, default) or with two triangles
defined with a diagonal line from bottom left to top right (slash)
or from top left to bottom right (backslash) when the axis normal to the 
data plane is positive towards the user.  Using a two-triangle option 
speeds rendering but can yield anisotropic artifacts.
</blockquote>
<blockquote>
  <tt><b>colorMap</b> <b>rainbow</b>|none</tt>
    <br>Whether to color the surface by height (default is <b>rainbow</b>
coloring from red for the lowest values to blue for the highest) 
or a uniform gray (none).  The surface can be recolored with
<b><A href="scolor.html">scolor</A></b>.
</blockquote>
<blockquote>
  <tt><b>smoothingIterations</b> <i>i</i></tt>
    <br>How many cycles of surface smoothing by moving surface vertices toward
the average position of neighboring vertices should be performed (default 
<b>0</b>, or no smoothing).  Smoothing will improve surface appearance but 
alter its shape, degrading the mapping of values to heights.
</blockquote>
<blockquote>
  <tt><b>smoothingFactor</b> <i>f</i></tt>
    <br>What fraction of the distance to the average position of neighboring
vertices to move each vertex in a single cycle of smoothing (default
<b>0.3</b>).
</blockquote>
<blockquote>
  <tt><b>replace</b> <b>true</b>|false</tt>
  <br>Whether to replace any existing <b>topography</b> surfaces with
  the new one rather than opening an additional model.
</blockquote>
<p>
See also:
<a href="volume.html"><b>volume</b></a>,
<b><A href="scolor.html">scolor</A></b>,
<a href="../../ContributedSoftware/volumeviewer/framevolumeviewer.html"
target="_top"><b>Volume Viewer</b></a>
</p>
</body></html>
